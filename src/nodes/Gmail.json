{
  "name": "Gmail",
  "def": "Send Email",
  "node_type": "main",
  "category": "Email",
  "handles": [
  { "type": "target", "position": "left", "id": "input" },
  { "type": "source", "position": "right", "id": "output" }

  ],
  "auth": "GenericAuthModal",
  "authFields": [     
    {
      "key": "credential_name",
      "label": "Credential Label",
      "type": "text",
      "default": "Personal Gmail"
    },
    {
      "key": "client_id",
      "label": "Client ID",
      "type": "text",
      "placeholder": "Client Id"
      
    },
    {
      "key": "client_secret",
      "label": "Client Secret",
      "type": "password",
      "placeholder": "Client Secret key"
    },
    {
      "key": "redirect_uri",
      "label": "OAuth Redirect URL",
      "type": "static",
      "value": "http://localhost:8000/gmail/oauth2callback"
    }

  ],
  "authAction": {"url": "/gmail/auth-url", "method": "POST"},

  "icon": "/assets/icons/gmail.svg",
  "size": { "width": 340, "height": 340 },
  "action": {"url": "/gmail/send", "method": "POST"},
  "fields": [
    {
      "key": "credential_id",
      "label": "Credential",
      "type": "select",
      "optionsSource": "credentialsApi",
      "placeholder": "Select credential",
      "required": true
    },
    {
      "key": "to",
      "label": "Recipient",
      "type": "text",
      "placeholder": "recipient@example.com",
      "required": true
    },
    {
      "key": "subject",
      "label": "Subject",
      "type": "text",
      "placeholder": "Subject line",
      "required": true
    },
    {
      "key": "message",
      "label": "Message",
      "type": "textarea",
      "placeholder": "Email content...",
      "required": true
    }
  ]
}
